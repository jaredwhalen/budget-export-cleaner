import{f as Ee,a as me}from"../chunks/CZYAjG9r.js";import{c as Ve,b as tt,d as Ie,h as be,g as rt,q as at,O as L,at as nt,t as st,v as it,w as Be,s as Le,e as Re,C as ot,ao as lt,j as qe,k as ut,f as De,a0 as ht,aE as ft,_ as He,am as Ye,aI as Je,aJ as dt,r as Ze,p as ct,aK as pt,aL as vt,aM as Fe,i as Xe,a as _t,aN as gt,al as mt,aO as yt,B as bt,aP as Et,x as kt,ae as wt,aQ as Ct,aR as Rt,aS as xt,U as St,aF as we,au as We,Y as X,W as Y,I as Te,V as Tt,av as fe,aT as Dt,X as H,a8 as Ot}from"../chunks/5oC6baGa.js";import{d as At,e as Me,s as ye}from"../chunks/hGt7a_SW.js";import{b as It,i as xe}from"../chunks/KocrL4mJ.js";import{h as Lt}from"../chunks/CtURr5Xx.js";function ze(u,g){return g}function Ft(u,g,i){for(var a=u.items,m=[],_=g.length,y=0;y<_;y++)gt(g[y].e,m,!0);var R=_>0&&m.length===0&&i!==null;if(R){var W=i.parentNode;mt(W),W.append(i),a.clear(),ve(u,g[0].prev,g[_-1].next)}yt(m,()=>{for(var h=0;h<_;h++){var K=g[h];R||(a.delete(K.k),ve(u,K.prev,K.next)),Xe(K.e,!R)}})}function Ne(u,g,i,a,m,_=null){var y=u,R={flags:g,items:new Map,first:null};{var W=u;y=be?Ie(rt(W)):W.appendChild(Ve())}be&&at();var h=null,K=!1,ie=new Map,A=nt(()=>{var M=i();return Je(M)?M:M==null?[]:Ye(M)}),j,D;function P(){Mt(D,j,R,ie,y,m,g,a,i),_!==null&&(j.length===0?h?Ze(h):h=qe(()=>_(y)):h!==null&&ct(h,()=>{h=null}))}tt(()=>{D??=bt,j=L(A);var M=j.length;if(K&&M===0)return;K=M===0;let oe=!1;if(be){var le=st(y)===it;le!==(M===0)&&(y=Be(),Ie(y),Le(!1),oe=!0)}if(be){for(var $=null,J,Q=0;Q<M;Q++){if(Re.nodeType===ot&&Re.data===lt){y=Re,oe=!0,Le(!1);break}var Z=j[Q],x=a(Z,Q);J=je(Re,R,$,null,Z,x,Q,m,g,i),R.items.set(x,J),$=J}M>0&&Ie(Be())}if(be)M===0&&_&&(h=qe(()=>_(y)));else if(ut()){var e=new Set,t=De;for(Q=0;Q<M;Q+=1){Z=j[Q],x=a(Z,Q);var r=R.items.get(x)??ie.get(x);r?Ge(r,Z,Q):(J=je(null,R,null,null,Z,x,Q,m,g,i,!0),ie.set(x,J)),e.add(x)}for(const[l,o]of R.items)e.has(l)||t.skipped_effects.add(o.e);t.oncommit(P)}else P();oe&&Le(!0),L(A)}),be&&(y=Re)}function Mt(u,g,i,a,m,_,y,R,W){var h=g.length,K=i.items,ie=i.first,A=ie,j,D=null,P=[],M=[],oe,le,$,J;for(J=0;J<h;J+=1){if(oe=g[J],le=R(oe,J),$=K.get(le),$===void 0){var Q=a.get(le);if(Q!==void 0){a.delete(le),K.set(le,Q);var Z=D?D.next:A;ve(i,D,Q),ve(i,Q,Z),Pe(Q,Z,m),D=Q}else{var x=A?A.e.nodes_start:m;D=je(x,i,D,D===null?i.first:D.next,oe,le,J,_,y,W)}K.set(le,D),P=[],M=[],A=D.next;continue}if(Ge($,oe,J),($.e.f&Fe)!==0&&Ze($.e),$!==A){if(j!==void 0&&j.has($)){if(P.length<M.length){var e=M[0],t;D=e.prev;var r=P[0],l=P[P.length-1];for(t=0;t<P.length;t+=1)Pe(P[t],e,m);for(t=0;t<M.length;t+=1)j.delete(M[t]);ve(i,r.prev,l.next),ve(i,D,r),ve(i,l,e),A=e,D=l,J-=1,P=[],M=[]}else j.delete($),Pe($,A,m),ve(i,$.prev,$.next),ve(i,$,D===null?i.first:D.next),ve(i,D,$),D=$;continue}for(P=[],M=[];A!==null&&A.k!==le;)(A.e.f&Fe)===0&&(j??=new Set).add(A),M.push(A),A=A.next;if(A===null)continue;$=A}P.push($),D=$,A=$.next}if(A!==null||j!==void 0){for(var o=j===void 0?[]:Ye(j);A!==null;)(A.e.f&Fe)===0&&o.push(A),A=A.next;var d=o.length;if(d>0){var V=h===0?m:null;Ft(i,o,V)}}u.first=i.first&&i.first.e,u.last=D&&D.e;for(var te of a.values())Xe(te.e);a.clear()}function Ge(u,g,i,a){ht(u.v,g),u.i=i}function je(u,g,i,a,m,_,y,R,W,h,K){var ie=(W&pt)!==0,A=(W&vt)===0,j=ie?A?ft(m,!1,!1):He(m):m,D=(W&dt)===0?y:He(y),P={i:D,v:j,k:_,a:null,e:null,prev:i,next:a};try{if(u===null){var M=document.createDocumentFragment();M.append(u=Ve())}return P.e=qe(()=>R(u,j,D,h),be),P.e.prev=i&&i.e,P.e.next=a&&a.e,i===null?K||(g.first=P):(i.next=P,i.e.next=P.e),a!==null&&(a.prev=P,a.e.prev=P.e),P}finally{}}function Pe(u,g,i){for(var a=u.next?u.next.e.nodes_start:i,m=g?g.e.nodes_start:i,_=u.e.nodes_start;_!==null&&_!==a;){var y=_t(_);m.before(_),_=y}}function ve(u,g,i){g===null?u.first=i:(g.next=i,g.e.next=i&&i.e),i!==null&&(i.prev=g,i.e.prev=g&&g.e)}const Ke=[...` 	
\r\fÂ \v\uFEFF`];function zt(u,g,i){var a=""+u;if(i){for(var m in i)if(i[m])a=a?a+" "+m:m;else if(a.length)for(var _=m.length,y=0;(y=a.indexOf(m,y))>=0;){var R=y+_;(y===0||Ke.includes(a[y-1]))&&(R===a.length||Ke.includes(a[R]))?a=(y===0?"":a.substring(0,y))+a.substring(R+1):y=R}}return a===""?null:a}function Nt(u,g,i,a,m,_){var y=u.__className;if(be||y!==i||y===void 0){var R=zt(i,a,_);(!be||R!==u.getAttribute("class"))&&(R==null?u.removeAttribute("class"):u.className=R),u.__className=i}else if(_&&m!==_)for(var W in _){var h=!!_[W];(m==null||h!==!!m[W])&&u.classList.toggle(W,h)}return _}function et(u,g,i=!1){if(u.multiple){if(g==null)return;if(!Je(g))return Ct();for(var a of u.options)a.selected=g.includes(Se(a));return}for(a of u.options){var m=Se(a);if(Rt(m,g)){a.selected=!0;return}}(!i||g!==void 0)&&(u.selectedIndex=-1)}function Pt(u){var g=new MutationObserver(()=>{et(u,u.__value)});g.observe(u,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),wt(()=>{g.disconnect()})}function qt(u,g,i=g){var a=new WeakSet,m=!0;Et(u,"change",_=>{var y=_?"[selected]":":checked",R;if(u.multiple)R=[].map.call(u.querySelectorAll(y),Se);else{var W=u.querySelector(y)??u.querySelector("option:not([disabled])");R=W&&Se(W)}i(R),De!==null&&a.add(De)}),kt(()=>{var _=g();if(u===document.activeElement){var y=xt??De;if(a.has(y))return}if(et(u,_,m),m&&_===void 0){var R=u.querySelector(":checked");R!==null&&(_=Se(R),i(_))}u.__value=_,m=!1}),Pt(u)}function Se(u){return"__value"in u?u.__value:u.value}function jt(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Oe={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Ut=Oe.exports,Qe;function $t(){return Qe||(Qe=1,(function(u,g){((i,a)=>{u.exports=a()})(Ut,function i(){var a=typeof self<"u"?self:typeof window<"u"?window:a!==void 0?a:{},m,_=!a.document&&!!a.postMessage,y=a.IS_PAPA_WORKER||!1,R={},W=0,h={};function K(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var r=Q(t);r.chunkSize=parseInt(r.chunkSize),t.step||t.chunk||(r.chunkSize=null),this._handle=new P(r),(this._handle.streamer=this)._config=r}).call(this,e),this.parseChunk=function(t,r){var l=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<l){let d=this._config.newline;d||(o=this._config.quoteChar||'"',d=this._handle.guessLineEndings(t,o)),t=[...t.split(d).slice(l)].join(d)}this.isFirstChunk&&x(this._config.beforeFirstChunk)&&(o=this._config.beforeFirstChunk(t))!==void 0&&(t=o),this.isFirstChunk=!1,this._halted=!1;var l=this._partialLine+t,o=(this._partialLine="",this._handle.parse(l,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=o.meta.cursor,l=(this._finished||(this._partialLine=l.substring(t-this._baseIndex),this._baseIndex=t),o&&o.data&&(this._rowCount+=o.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),y)a.postMessage({results:o,workerId:h.WORKER_ID,finished:l});else if(x(this._config.chunk)&&!r){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=o=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!l||!x(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),l||o&&o.meta.paused||this._nextChunk(),o}this._halted=!0},this._sendError=function(t){x(this._config.error)?this._config.error(t):y&&this._config.error&&a.postMessage({workerId:h.WORKER_ID,error:t,finished:!1})}}function ie(e){var t;(e=e||{}).chunkSize||(e.chunkSize=h.RemoteChunkSize),K.call(this,e),this._nextChunk=_?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),_||(t.onload=Z(this._chunkLoaded,this),t.onerror=Z(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!_),this._config.downloadRequestHeaders){var r,l=this._config.downloadRequestHeaders;for(r in l)t.setRequestHeader(r,l[r])}var o;this._config.chunkSize&&(o=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+o));try{t.send(this._config.downloadRequestBody)}catch(d){this._chunkError(d.message)}_&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(r=>(r=r.getResponseHeader("Content-Range"))!==null?parseInt(r.substring(r.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(r){r=t.statusText||r,this._sendError(new Error(r))}}function A(e){(e=e||{}).chunkSize||(e.chunkSize=h.LocalChunkSize),K.call(this,e);var t,r,l=typeof FileReader<"u";this.stream=function(o){this._input=o,r=o.slice||o.webkitSlice||o.mozSlice,l?((t=new FileReader).onload=Z(this._chunkLoaded,this),t.onerror=Z(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var o=this._input,d=(this._config.chunkSize&&(d=Math.min(this._start+this._config.chunkSize,this._input.size),o=r.call(o,this._start,d)),t.readAsText(o,this._config.encoding));l||this._chunkLoaded({target:{result:d}})},this._chunkLoaded=function(o){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(o.target.result)},this._chunkError=function(){this._sendError(t.error)}}function j(e){var t;K.call(this,e=e||{}),this.stream=function(r){return t=r,this._nextChunk()},this._nextChunk=function(){var r,l;if(!this._finished)return r=this._config.chunkSize,t=r?(l=t.substring(0,r),t.substring(r)):(l=t,""),this._finished=!t,this.parseChunk(l)}}function D(e){K.call(this,e=e||{});var t=[],r=!0,l=!1;this.pause=function(){K.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){K.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(o){this._input=o,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){l&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=Z(function(o){try{t.push(typeof o=="string"?o:o.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(d){this._streamError(d)}},this),this._streamError=Z(function(o){this._streamCleanUp(),this._sendError(o)},this),this._streamEnd=Z(function(){this._streamCleanUp(),l=!0,this._streamData("")},this),this._streamCleanUp=Z(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function P(e){var t,r,l,o,d=Math.pow(2,53),V=-d,te=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ue=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,S=this,f=0,n=0,b=!1,c=!1,E=[],s={data:[],errors:[],meta:{}};function O(w){return e.skipEmptyLines==="greedy"?w.join("").trim()==="":w.length===1&&w[0].length===0}function F(){if(s&&l&&(G("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),l=!1),e.skipEmptyLines&&(s.data=s.data.filter(function(p){return!O(p)})),N()){let p=function(B,z){x(e.transformHeader)&&(B=e.transformHeader(B,z)),E.push(B)};if(s)if(Array.isArray(s.data[0])){for(var w=0;N()&&w<s.data.length;w++)s.data[w].forEach(p);s.data.splice(0,1)}else s.data.forEach(p)}function T(p,B){for(var z=e.header?{}:[],C=0;C<p.length;C++){var I=C,k=p[C],k=((se,v)=>(U=>(e.dynamicTypingFunction&&e.dynamicTyping[U]===void 0&&(e.dynamicTyping[U]=e.dynamicTypingFunction(U)),(e.dynamicTyping[U]||e.dynamicTyping)===!0))(se)?v==="true"||v==="TRUE"||v!=="false"&&v!=="FALSE"&&((U=>{if(te.test(U)&&(U=parseFloat(U),V<U&&U<d))return 1})(v)?parseFloat(v):ue.test(v)?new Date(v):v===""?null:v):v)(I=e.header?C>=E.length?"__parsed_extra":E[C]:I,k=e.transform?e.transform(k,I):k);I==="__parsed_extra"?(z[I]=z[I]||[],z[I].push(k)):z[I]=k}return e.header&&(C>E.length?G("FieldMismatch","TooManyFields","Too many fields: expected "+E.length+" fields but parsed "+C,n+B):C<E.length&&G("FieldMismatch","TooFewFields","Too few fields: expected "+E.length+" fields but parsed "+C,n+B)),z}var q;s&&(e.header||e.dynamicTyping||e.transform)&&(q=1,!s.data.length||Array.isArray(s.data[0])?(s.data=s.data.map(T),q=s.data.length):s.data=T(s.data,0),e.header&&s.meta&&(s.meta.fields=E),n+=q)}function N(){return e.header&&E.length===0}function G(w,T,q,p){w={type:w,code:T,message:q},p!==void 0&&(w.row=p),s.errors.push(w)}x(e.step)&&(o=e.step,e.step=function(w){s=w,N()?F():(F(),s.data.length!==0&&(f+=w.data.length,e.preview&&f>e.preview?r.abort():(s.data=s.data[0],o(s,S))))}),this.parse=function(w,T,q){var p=e.quoteChar||'"',p=(e.newline||(e.newline=this.guessLineEndings(w,p)),l=!1,e.delimiter?x(e.delimiter)&&(e.delimiter=e.delimiter(w),s.meta.delimiter=e.delimiter):((p=((B,z,C,I,k)=>{var se,v,U,re;k=k||[",","	","|",";",h.RECORD_SEP,h.UNIT_SEP];for(var de=0;de<k.length;de++){for(var ae,_e=k[de],ne=0,ce=0,ee=0,he=(U=void 0,new oe({comments:I,delimiter:_e,newline:z,preview:10}).parse(B)),ge=0;ge<he.data.length;ge++)C&&O(he.data[ge])?ee++:(ae=he.data[ge].length,ce+=ae,U===void 0?U=ae:0<ae&&(ne+=Math.abs(ae-U),U=ae));0<he.data.length&&(ce/=he.data.length-ee),(v===void 0||ne<=v)&&(re===void 0||re<ce)&&1.99<ce&&(v=ne,se=_e,re=ce)}return{successful:!!(e.delimiter=se),bestDelimiter:se}})(w,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=p.bestDelimiter:(l=!0,e.delimiter=h.DefaultDelimiter),s.meta.delimiter=e.delimiter),Q(e));return e.preview&&e.header&&p.preview++,t=w,r=new oe(p),s=r.parse(t,T,q),F(),b?{meta:{paused:!0}}:s||{meta:{paused:!1}}},this.paused=function(){return b},this.pause=function(){b=!0,r.abort(),t=x(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){S.streamer._halted?(b=!1,S.streamer.parseChunk(t,!0)):setTimeout(S.resume,3)},this.aborted=function(){return c},this.abort=function(){c=!0,r.abort(),s.meta.aborted=!0,x(e.complete)&&e.complete(s),t=""},this.guessLineEndings=function(B,p){B=B.substring(0,1048576);var p=new RegExp(M(p)+"([^]*?)"+M(p),"gm"),q=(B=B.replace(p,"")).split("\r"),p=B.split(`
`),B=1<p.length&&p[0].length<q[0].length;if(q.length===1||B)return`
`;for(var z=0,C=0;C<q.length;C++)q[C][0]===`
`&&z++;return z>=q.length/2?`\r
`:"\r"}}function M(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function oe(e){var t=(e=e||{}).delimiter,r=e.newline,l=e.comments,o=e.step,d=e.preview,V=e.fastMode,te=null,ue=!1,S=e.quoteChar==null?'"':e.quoteChar,f=S;if(e.escapeChar!==void 0&&(f=e.escapeChar),(typeof t!="string"||-1<h.BAD_DELIMITERS.indexOf(t))&&(t=","),l===t)throw new Error("Comment character same as delimiter");l===!0?l="#":(typeof l!="string"||-1<h.BAD_DELIMITERS.indexOf(l))&&(l=!1),r!==`
`&&r!=="\r"&&r!==`\r
`&&(r=`
`);var n=0,b=!1;this.parse=function(c,E,s){if(typeof c!="string")throw new Error("Input must be a string");var O=c.length,F=t.length,N=r.length,G=l.length,w=x(o),T=[],q=[],p=[],B=n=0;if(!c)return ne();if(V||V!==!1&&c.indexOf(S)===-1){for(var z=c.split(r),C=0;C<z.length;C++){if(p=z[C],n+=p.length,C!==z.length-1)n+=r.length;else if(s)return ne();if(!l||p.substring(0,G)!==l){if(w){if(T=[],re(p.split(t)),ce(),b)return ne()}else re(p.split(t));if(d&&d<=C)return T=T.slice(0,d),ne(!0)}}return ne()}for(var I=c.indexOf(t,n),k=c.indexOf(r,n),se=new RegExp(M(f)+M(S),"g"),v=c.indexOf(S,n);;)if(c[n]===S)for(v=n,n++;;){if((v=c.indexOf(S,v+1))===-1)return s||q.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:T.length,index:n}),ae();if(v===O-1)return ae(c.substring(n,v).replace(se,S));if(S===f&&c[v+1]===f)v++;else if(S===f||v===0||c[v-1]!==f){I!==-1&&I<v+1&&(I=c.indexOf(t,v+1));var U=de((k=k!==-1&&k<v+1?c.indexOf(r,v+1):k)===-1?I:Math.min(I,k));if(c.substr(v+1+U,F)===t){p.push(c.substring(n,v).replace(se,S)),c[n=v+1+U+F]!==S&&(v=c.indexOf(S,n)),I=c.indexOf(t,n),k=c.indexOf(r,n);break}if(U=de(k),c.substring(v+1+U,v+1+U+N)===r){if(p.push(c.substring(n,v).replace(se,S)),_e(v+1+U+N),I=c.indexOf(t,n),v=c.indexOf(S,n),w&&(ce(),b))return ne();if(d&&T.length>=d)return ne(!0);break}q.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:T.length,index:n}),v++}}else if(l&&p.length===0&&c.substring(n,n+G)===l){if(k===-1)return ne();n=k+N,k=c.indexOf(r,n),I=c.indexOf(t,n)}else if(I!==-1&&(I<k||k===-1))p.push(c.substring(n,I)),n=I+F,I=c.indexOf(t,n);else{if(k===-1)break;if(p.push(c.substring(n,k)),_e(k+N),w&&(ce(),b))return ne();if(d&&T.length>=d)return ne(!0)}return ae();function re(ee){T.push(ee),B=n}function de(ee){var he=0;return he=ee!==-1&&(ee=c.substring(v+1,ee))&&ee.trim()===""?ee.length:he}function ae(ee){return s||(ee===void 0&&(ee=c.substring(n)),p.push(ee),n=O,re(p),w&&ce()),ne()}function _e(ee){n=ee,re(p),p=[],k=c.indexOf(r,n)}function ne(ee){if(e.header&&!E&&T.length&&!ue){var he=T[0],ge=Object.create(null),Ae=new Set(he);let Ue=!1;for(let ke=0;ke<he.length;ke++){let pe=he[ke];if(ge[pe=x(e.transformHeader)?e.transformHeader(pe,ke):pe]){let Ce,$e=ge[pe];for(;Ce=pe+"_"+$e,$e++,Ae.has(Ce););Ae.add(Ce),he[ke]=Ce,ge[pe]++,Ue=!0,(te=te===null?{}:te)[Ce]=pe}else ge[pe]=1,he[ke]=pe;Ae.add(pe)}Ue&&console.warn("Duplicate headers found and renamed."),ue=!0}return{data:T,errors:q,meta:{delimiter:t,linebreak:r,aborted:b,truncated:!!ee,cursor:B+(E||0),renamedHeaders:te}}}function ce(){o(ne()),T=[],q=[]}},this.abort=function(){b=!0},this.getCharIndex=function(){return n}}function le(e){var t=e.data,r=R[t.workerId],l=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){l=!0,$(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:J,resume:J};if(x(r.userStep)){for(var d=0;d<t.results.data.length&&(r.userStep({data:t.results.data[d],errors:t.results.errors,meta:t.results.meta},o),!l);d++);delete t.results}else x(r.userChunk)&&(r.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!l&&$(t.workerId,t.results)}function $(e,t){var r=R[e];x(r.userComplete)&&r.userComplete(t),r.terminate(),delete R[e]}function J(){throw new Error("Not implemented.")}function Q(e){if(typeof e!="object"||e===null)return e;var t,r=Array.isArray(e)?[]:{};for(t in e)r[t]=Q(e[t]);return r}function Z(e,t){return function(){e.apply(t,arguments)}}function x(e){return typeof e=="function"}return h.parse=function(e,t){var r=(t=t||{}).dynamicTyping||!1;if(x(r)&&(t.dynamicTypingFunction=r,r={}),t.dynamicTyping=r,t.transform=!!x(t.transform)&&t.transform,!t.worker||!h.WORKERS_SUPPORTED)return r=null,h.NODE_STREAM_INPUT,typeof e=="string"?(e=(l=>l.charCodeAt(0)!==65279?l:l.slice(1))(e),r=new(t.download?ie:j)(t)):e.readable===!0&&x(e.read)&&x(e.on)?r=new D(t):(a.File&&e instanceof File||e instanceof Object)&&(r=new A(t)),r.stream(e);(r=(()=>{var l;return!!h.WORKERS_SUPPORTED&&(l=(()=>{var o=a.URL||a.webkitURL||null,d=i.toString();return h.BLOB_URL||(h.BLOB_URL=o.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",d,")();"],{type:"text/javascript"})))})(),(l=new a.Worker(l)).onmessage=le,l.id=W++,R[l.id]=l)})()).userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=x(t.step),t.chunk=x(t.chunk),t.complete=x(t.complete),t.error=x(t.error),delete t.worker,r.postMessage({input:e,config:t,workerId:r.id})},h.unparse=function(e,t){var r=!1,l=!0,o=",",d=`\r
`,V='"',te=V+V,ue=!1,S=null,f=!1,n=((()=>{if(typeof t=="object"){if(typeof t.delimiter!="string"||h.BAD_DELIMITERS.filter(function(E){return t.delimiter.indexOf(E)!==-1}).length||(o=t.delimiter),typeof t.quotes!="boolean"&&typeof t.quotes!="function"&&!Array.isArray(t.quotes)||(r=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(ue=t.skipEmptyLines),typeof t.newline=="string"&&(d=t.newline),typeof t.quoteChar=="string"&&(V=t.quoteChar),typeof t.header=="boolean"&&(l=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");S=t.columns}t.escapeChar!==void 0&&(te=t.escapeChar+V),t.escapeFormulae instanceof RegExp?f=t.escapeFormulae:typeof t.escapeFormulae=="boolean"&&t.escapeFormulae&&(f=/^[=+\-@\t\r].*$/)}})(),new RegExp(M(V),"g"));if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return b(null,e,ue);if(typeof e[0]=="object")return b(S||Object.keys(e[0]),e,ue)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||S),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:typeof e.data[0]=="object"?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||typeof e.data[0]=="object"||(e.data=[e.data])),b(e.fields||[],e.data||[],ue);throw new Error("Unable to serialize unrecognized input");function b(E,s,O){var F="",N=(typeof E=="string"&&(E=JSON.parse(E)),typeof s=="string"&&(s=JSON.parse(s)),Array.isArray(E)&&0<E.length),G=!Array.isArray(s[0]);if(N&&l){for(var w=0;w<E.length;w++)0<w&&(F+=o),F+=c(E[w],w);0<s.length&&(F+=d)}for(var T=0;T<s.length;T++){var q=(N?E:s[T]).length,p=!1,B=N?Object.keys(s[T]).length===0:s[T].length===0;if(O&&!N&&(p=O==="greedy"?s[T].join("").trim()==="":s[T].length===1&&s[T][0].length===0),O==="greedy"&&N){for(var z=[],C=0;C<q;C++){var I=G?E[C]:C;z.push(s[T][I])}p=z.join("").trim()===""}if(!p){for(var k=0;k<q;k++){0<k&&!B&&(F+=o);var se=N&&G?E[k]:k;F+=c(s[T][se],k)}T<s.length-1&&(!O||0<q&&!B)&&(F+=d)}}return F}function c(E,s){var O,F;return E==null?"":E.constructor===Date?JSON.stringify(E).slice(1,25):(F=!1,f&&typeof E=="string"&&f.test(E)&&(E="'"+E,F=!0),O=E.toString().replace(n,te),(F=F||r===!0||typeof r=="function"&&r(E,s)||Array.isArray(r)&&r[s]||((N,G)=>{for(var w=0;w<G.length;w++)if(-1<N.indexOf(G[w]))return!0;return!1})(O,h.BAD_DELIMITERS)||-1<O.indexOf(o)||O.charAt(0)===" "||O.charAt(O.length-1)===" ")?V+O+V:O)}},h.RECORD_SEP="",h.UNIT_SEP="",h.BYTE_ORDER_MARK="\uFEFF",h.BAD_DELIMITERS=["\r",`
`,'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!_&&!!a.Worker,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=oe,h.ParserHandle=P,h.NetworkStreamer=ie,h.FileStreamer=A,h.StringStreamer=j,h.ReadableStreamStreamer=D,a.jQuery&&((m=a.jQuery).fn.parse=function(e){var t=e.config||{},r=[];return this.each(function(d){if(!(m(this).prop("tagName").toUpperCase()==="INPUT"&&m(this).attr("type").toLowerCase()==="file"&&a.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)r.push({file:this.files[V],inputElem:this,instanceConfig:m.extend({},t)})}),l(),this;function l(){if(r.length===0)x(e.complete)&&e.complete();else{var d,V,te,ue,S=r[0];if(x(e.before)){var f=e.before(S.file,S.inputElem);if(typeof f=="object"){if(f.action==="abort")return d="AbortError",V=S.file,te=S.inputElem,ue=f.reason,void(x(e.error)&&e.error({name:d},V,te,ue));if(f.action==="skip")return void o();typeof f.config=="object"&&(S.instanceConfig=m.extend(S.instanceConfig,f.config))}else if(f==="skip")return void o()}var n=S.instanceConfig.complete;S.instanceConfig.complete=function(b){x(n)&&n(b,S.file,S.inputElem),o()},h.parse(S.file,S.instanceConfig)}}function o(){r.splice(0,1),l()}}),y&&(a.onmessage=function(e){e=e.data,h.WORKER_ID===void 0&&e&&(h.WORKER_ID=e.workerId),typeof e.input=="string"?a.postMessage({workerId:h.WORKER_ID,results:h.parse(e.input,e.config),finished:!0}):(a.File&&e.input instanceof File||e.input instanceof Object)&&(e=h.parse(e.input,e.config))&&a.postMessage({workerId:h.WORKER_ID,results:e,finished:!0})}),(ie.prototype=Object.create(K.prototype)).constructor=ie,(A.prototype=Object.create(K.prototype)).constructor=A,(j.prototype=Object.create(j.prototype)).constructor=j,(D.prototype=Object.create(K.prototype)).constructor=D,h})})(Oe)),Oe.exports}var Bt=$t();const Ht=jt(Bt);var Wt=Ee("<option> </option>"),Kt=Ee('<tr class="svelte-1uha8ag"><td class="svelte-1uha8ag"> </td><td class="svelte-1uha8ag"> </td><td class="svelte-1uha8ag"> </td><td class="svelte-1uha8ag"> </td></tr>'),Qt=Ee('<span class="copied-message svelte-1uha8ag">Copied!</span>'),Vt=Ee('<div class="table-section svelte-1uha8ag"><h2 class="svelte-1uha8ag">Expenses</h2> <div class="table-container svelte-1uha8ag"><table class="svelte-1uha8ag"><thead class="svelte-1uha8ag"><tr><th class="svelte-1uha8ag">Date</th><th class="svelte-1uha8ag">Amount</th><th class="svelte-1uha8ag">Description</th><th class="svelte-1uha8ag">Account</th></tr></thead><tbody class="svelte-1uha8ag"></tbody></table></div> <div class="button-container svelte-1uha8ag"><button class="copy-button svelte-1uha8ag">Copy Table</button> <!></div></div>'),Yt=Ee('<tr class="svelte-1uha8ag"><td class="svelte-1uha8ag"> </td><td class="svelte-1uha8ag"> </td><td class="svelte-1uha8ag"> </td><td class="svelte-1uha8ag"> </td></tr>'),Jt=Ee('<span class="copied-message svelte-1uha8ag">Copied!</span>'),Zt=Ee('<div class="table-section svelte-1uha8ag"><h2 class="svelte-1uha8ag">Income</h2> <div class="table-container svelte-1uha8ag"><table class="svelte-1uha8ag"><thead class="svelte-1uha8ag"><tr><th class="svelte-1uha8ag">Date</th><th class="svelte-1uha8ag">Amount</th><th class="svelte-1uha8ag">Description</th><th class="svelte-1uha8ag">Category</th></tr></thead><tbody class="svelte-1uha8ag"></tbody></table></div> <div class="button-container svelte-1uha8ag"><button class="copy-button svelte-1uha8ag">Copy Table</button> <!></div></div>'),Xt=Ee('<div class="tables svelte-1uha8ag"><!> <!></div>'),Gt=Ee('<div class="container svelte-1uha8ag"><h1 class="svelte-1uha8ag">Budget Export Cleaner</h1> <p>Upload CSV files to separate expenses and income</p> <div class="import-controls svelte-1uha8ag"><label for="accountSelect" class="control-label svelte-1uha8ag">Account:</label> <select id="accountSelect" class="account-select svelte-1uha8ag"></select></div> <div role="button" tabindex="0"><input type="file" accept=".csv" multiple id="fileInput" class="svelte-1uha8ag"/> <label for="fileInput" class="dropzone-label svelte-1uha8ag"><p>Drop CSV files here or click to select</p></label></div> <!></div>');function sr(u,g){St(g,!0);let i=we(We([])),a=we(We([])),m=we(!1),_=we("Chase 6302"),y=we(!1),R=we(!1),W;const h=["Chase 6302","Chase 1639","Chase 8965","Amazon","Truist"];function K(f,n){const b=L(_),c=Ht.parse(f,{header:!0,skipEmptyLines:!0}),E=c.meta.fields;c.data.forEach(s=>{if(E.includes("Type")){if(s.Type==="Sale"){const O=Math.abs(parseFloat(s.Amount));L(i).push({date:s["Transaction Date"],amount:`$${O.toFixed(2)}`,description:s.Description,account:b,originalAmount:O,originalDescription:s.Description})}}else if(E.includes("Transaction Type")){const O=E.includes("Full description")?"Full description":"Description";if(s["Transaction Type"]==="Debit"){let F=s.Amount.replace("$","").replace("(","").replace(")","");const N=Math.abs(parseFloat(F));!s[O].includes("EPAY CHASE CREDIT CRD")&&!s[O].includes("PAYMENT AMZ_STORECRD")&&L(i).push({date:s["Transaction Date"],amount:`$${N.toFixed(2)}`,description:s[O],account:b,originalAmount:N,originalDescription:s[O]})}else if(s["Transaction Type"]==="Credit"){let F=s.Amount.replace("$","").replace(/,/g,"");const N=parseFloat(F);L(a).push({date:s["Transaction Date"],amount:`$${N.toFixed(2)}`,description:s[O],category:"Paycheck"})}}})}function ie(f){f.preventDefault(),fe(m,!1);const n=f.dataTransfer.files;j(n)}function A(f){const n=f.target.files;j(n)}async function j(f){fe(i,[],!0),fe(a,[],!0);for(const n of f)if(n.type==="text/csv"||n.name.endsWith(".csv")||n.name.endsWith(".CSV"))try{const b=await n.text();K(b,n.name)}catch(b){console.error("Error processing file:",b)}P()}function D(f){const[n,b,c]=f.split("/");return new Date(c,n-1,b)}function P(){L(i).sort((f,n)=>D(f.date)-D(n.date)),L(a).sort((f,n)=>D(f.date)-D(n.date))}function M(f){f.target.tagName!=="LABEL"&&f.target.tagName!=="P"&&W.click()}function oe(f){(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),W.click())}function le(f){f.preventDefault(),fe(m,!0)}function $(){fe(m,!1)}function J(f){navigator.clipboard.writeText(f)}function Q(){const n=L(i).map(b=>`${b.date}	${b.amount}	${b.description}	${b.account}`).join(`
`);J(n),x()}function Z(){const n=L(a).map(b=>`${b.date}	${b.amount}	${b.description}	${b.category}`).join(`
`);J(n),e()}function x(){fe(y,!0),setTimeout(()=>{fe(y,!1)},2e3)}function e(){fe(R,!0),setTimeout(()=>{fe(R,!1)},2e3)}function t(){fe(i,L(i).map(f=>({...f,account:L(_)})),!0)}var r=Gt();Lt("1uha8ag",f=>{Dt.title="Budget Export Cleaner"});var l=X(Y(r),4),o=X(Y(l),2);o.__change=t,Ne(o,21,()=>h,ze,(f,n)=>{var b=Wt(),c=Y(b,!0);H(b);var E={};Te(()=>{ye(c,L(n)),E!==(E=L(n))&&(b.value=(b.__value=L(n))??"")}),me(f,b)}),H(o),H(l);var d=X(l,2);let V;d.__click=M,d.__keydown=oe;var te=Y(d);te.__change=A,It(te,f=>W=f,()=>W),Ot(2),H(d);var ue=X(d,2);{var S=f=>{var n=Xt(),b=Y(n);{var c=O=>{var F=Vt(),N=X(Y(F),2),G=Y(N),w=X(Y(G));Ne(w,21,()=>L(i),ze,(z,C)=>{var I=Kt(),k=Y(I),se=Y(k,!0);H(k);var v=X(k),U=Y(v,!0);H(v);var re=X(v),de=Y(re,!0);H(re);var ae=X(re),_e=Y(ae,!0);H(ae),H(I),Te(()=>{ye(se,L(C).date),ye(U,L(C).amount),ye(de,L(C).description),ye(_e,L(C).account)}),me(z,I)}),H(w),H(G),H(N);var T=X(N,2),q=Y(T);q.__click=Q;var p=X(q,2);{var B=z=>{var C=Qt();me(z,C)};xe(p,z=>{L(y)&&z(B)})}H(T),H(F),me(O,F)};xe(b,O=>{L(i).length>0&&O(c)})}var E=X(b,2);{var s=O=>{var F=Zt(),N=X(Y(F),2),G=Y(N),w=X(Y(G));Ne(w,21,()=>L(a),ze,(z,C)=>{var I=Yt(),k=Y(I),se=Y(k,!0);H(k);var v=X(k),U=Y(v,!0);H(v);var re=X(v),de=Y(re,!0);H(re);var ae=X(re),_e=Y(ae,!0);H(ae),H(I),Te(()=>{ye(se,L(C).date),ye(U,L(C).amount),ye(de,L(C).description),ye(_e,L(C).category)}),me(z,I)}),H(w),H(G),H(N);var T=X(N,2),q=Y(T);q.__click=Z;var p=X(q,2);{var B=z=>{var C=Jt();me(z,C)};xe(p,z=>{L(R)&&z(B)})}H(T),H(F),me(O,F)};xe(E,O=>{L(a).length>0&&O(s)})}H(n),me(f,n)};xe(ue,f=>{(L(i).length>0||L(a).length>0)&&f(S)})}H(r),Te(()=>V=Nt(d,1,"dropzone svelte-1uha8ag",null,V,{dragging:L(m)})),qt(o,()=>L(_),f=>fe(_,f)),Me("drop",d,ie),Me("dragover",d,le),Me("dragleave",d,$),me(u,r),Tt()}At(["change","click","keydown"]);export{sr as component};
